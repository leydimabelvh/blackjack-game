const blackjackModule=(()=>{let e=[],a=["C","D","H","S"],t=["A","J","K","Q"],r=[],l=document.querySelector("#btnGetCard"),n=document.querySelector("#btnStopGame"),d=document.querySelector("#btnNewGame"),o=document.querySelectorAll("span"),i=document.querySelectorAll(".cardGame__container");l.disabled=!0,n.disabled=!0;let s=(a=2)=>{console.clear(),e=c(),r=[];for(let t=0;t<a;t++)r.push(0);o.forEach(e=>e.innerText=0),i.forEach(e=>e.innerHTML=""),l.disabled=!1,n.disabled=!1};function c(){e=[];for(let r=2;r<11;r++)for(let l of a)e.push(r+l);for(let n of t)for(let d of a)e.push(n+d);return _.shuffle(e)}let u=()=>{if(0===e.length)throw"Error: No hay cartas en la baraja.";return e.pop()},$=e=>{let a=e.substring(0,e.length-1);return isNaN(a)?"A"===a?11:10:1*a},p=(e,a)=>(r[a]+=$(e),o[a].innerText=r[a],r[a]),b=(e,a)=>{let t=document.createElement("img");t.src=`./assets/images/cartas/${e}.png`,t.classList.add("cartGame__image"),t.alt="Image of a deck of cards",t.width="120",i[a].append(t)},f=()=>{let[e,a]=r;setTimeout(()=>{a>21?(alert("\xa1Gan\xf3 el jugador!"),console.warn("\xa1Gan\xf3 el jugador!")):e>21?(alert("\xa1Gan\xf3 la computadora!"),console.warn("\xa1Gan\xf3 la computadora!")):a===e?(alert("Empate, niguno gan\xf3."),console.warn("Empate, niguno gan\xf3")):(alert("\xa1Gan\xf3 la computadora!"),console.warn("\xa1Gan\xf3 la computadora!"))},100)},g=e=>{let a=0;do{let t=u();a=p(t,r.length-1),b(t,r.length-1)}while(a<e&&e<=21);f()};return l.addEventListener("click",()=>{let e=u(),a=p(e,0);b(e,0),a>21?(console.warn("Lo siento, perdiste."),l.disabled=!0,n.disabled=!0,g(a)):21===a&&(console.warn("\xa1Genial, 21!"),l.disabled=!0,n.disabled=!0,g(a))}),n.addEventListener("click",()=>{l.disabled=!0,n.disabled=!0,g(r[0])}),d.addEventListener("click",()=>{s()}),{newGame:s}})();